# This is Git's per-user configuration file.
[user]
	name = Quinn McCaffrey
	email = quinn@versaliminal.org
#	signingkey = 

[init]
	defaultBranch = main

[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true

[alias]
    cprev = !git rev-parse --short @ | tr -d '\n' | pbcopy && echo "Copied $(pbpaste)"
	changes = !git log main..$(git branch --show-current)
	last-msg = !git log -1 --pretty=%B

	freebase = !git fetch && git rebase --no-verify -i origin/main

	placeholder = !git commit --no-verify --allow-empty -S -m "" && git push -u origin $(git branch --show-current)
	feat = !git checkout -b "$1" && git placeholder
	base = !git merge-base main $(git branch --show-current)
	soft-rebase = !git reset --soft $(git base)
	fixup = !git commit --no-verify -a --fixup=$(git base)
	append = !git fixup && git rebase --no-verify -i --autosquash origin/main
	reword = !git commit --no-verify --amend --allow-empty
	squash = !git commit --amend --allow-empty --no-verify -S -m "$(git last-message)"

	sign = !git commit --amend --no-edit -S --allow-empty
	pub = !git push -f
	spub = !git sign && git pub

	discard = !git fetch && git reset --hard origin/$(git branch --show-current)
	main = !git fetch && git checkout main && git reset --hard origin/main
